!function(t){"use strict";function e(){var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return i[t]}function i(){this.body=document.body,this.wrapper=document.querySelector("#wrapper"),this.toggle=document.querySelector("#mm-menu-toggle"),this.atoggle=this.toggle.querySelector("div"),this.menu=document.querySelector("#mm-menu"),this.menuItems=this.menu.querySelectorAll("li"),this.menuItemLinks=this.menu.querySelectorAll("a"),this.menuPosition="off",this.mask=document.createElement("div"),this.mask.className="mm-menu-mask",document.body.appendChild(this.mask),this._init()}e();i.prototype._init=function(){this._initToggleEvents(),this._initItemTransitions(),this._initMaskEvents()},i.prototype._initToggleEvents=function(){var t=this;this.toggle.addEventListener("click",function(){"off"==t.menuPosition?t._toggleMenuOn():t._toggleMenuOff()})},i.prototype._toggleMenuOn=function(){var t=this;this.body.classList.add("mm-menu-open"),this.wrapper.classList.add("mm-menu-open"),this.atoggle.classList.add("active"),this.menu.classList.add("active");for(var e=0;e<t.menuItems.length;e++){var i=t.menuItems[e];!function(t){t.classList.add("in-view")}(i)}this.mask.classList.add("active"),this.menuPosition="on"},i.prototype._toggleMenuOff=function(){var t=this;this.body.classList.remove("mm-menu-open"),this.wrapper.classList.remove("mm-menu-open"),this.atoggle.classList.remove("active"),this.menu.classList.remove("active");for(var e=0;e<t.menuItems.length;e++){var i=t.menuItems[e];!function(t){t.classList.remove("in-view")}(i)}this.mask.classList.remove("active"),this.menuPosition="off"},i.prototype._initItemTransitions=function(){for(var t=this.menuItems.length,e=0;t>e;e++){var i=e+1,n=this.menuItems[e];this._itemTransitionHandler(n,i)}},i.prototype._itemTransitionHandler=function(t,e){t.classList.add("item-"+e)},i.prototype._initMaskEvents=function(){var t=this;this.mask.addEventListener("click",function(e){e.preventDefault(),"on"==t.menuPosition?t._toggleMenuOff():!1})},t.Menu=i}(window);
