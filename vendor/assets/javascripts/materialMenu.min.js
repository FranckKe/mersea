!function(a){"use strict";function b(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}function f(){this.body=document.body,this.wrapper=document.querySelector("#wrapper"),this.toggle=document.querySelector("#mm-menu-toggle"),this.menu=document.querySelector("#mm-menu"),this.menuItems=this.menu.querySelectorAll("li"),this.menuItemLinks=this.menu.querySelectorAll("a"),this.menuPosition="off",this.mask=document.createElement("div"),this.mask.className="mm-menu-mask",document.body.appendChild(this.mask),this._init()}b();f.prototype._init=function(){this._initToggleEvents(),this._initItemTransitions(),this._initMaskEvents()},f.prototype._initToggleEvents=function(){var a=this;this.toggle.addEventListener("click",function(){"off"==a.menuPosition?a._toggleMenuOn():a._toggleMenuOff()})},f.prototype._toggleMenuOn=function(){var a=this;this.body.classList.add("mm-menu-open"),this.wrapper.classList.add("mm-menu-open"),this.toggle.classList.add("active"),this.menu.classList.add("active");for(var b=0;b<a.menuItems.length;b++){var c=a.menuItems[b];!function(a){a.classList.add("in-view")}(c)}this.mask.classList.add("active"),this.menuPosition="on"},f.prototype._toggleMenuOff=function(){var a=this;this.body.classList.remove("mm-menu-open"),this.wrapper.classList.remove("mm-menu-open"),this.toggle.classList.remove("active"),this.menu.classList.remove("active");for(var b=0;b<a.menuItems.length;b++){var c=a.menuItems[b];!function(a){a.classList.remove("in-view")}(c)}this.mask.classList.remove("active"),this.menuPosition="off"},f.prototype._initItemTransitions=function(){for(var b=this.menuItems.length,c=0;c<b;c++){var d=c+1,e=this.menuItems[c];this._itemTransitionHandler(e,d)}},f.prototype._itemTransitionHandler=function(a,b){a.classList.add("item-"+b)},f.prototype._initMaskEvents=function(){var a=this;this.mask.addEventListener("click",function(b){b.preventDefault(),"on"==a.menuPosition&&a._toggleMenuOff()})},a.Menu=f}(window);
